{
  "content": "Andrew G .Stanton - June 9, 2025\n# How I Built a Decentralized CMS with Nostr + GitHub Actions â€“ Part 2\n\n*Refinements, resilience, and real-world publishing*\n\n***\n\nIn [Part 1](https://andrewgstanton.github.io/blog-stantonweb-site/articles/how-i-built-a-decentralized-cms-with-nostr-github-actions/), I shared the first steps of building a publishing stack that puts authors in control â€” using [Nostr](https://nostr.com/) for content, GitHub Actions for automation, and GitHub Pages for free, fast hosting.\n\nBut that was just the foundation.\n\nIn this second installment, I focused on improving the system with better **data hygiene**, **styling consistency**, and **end-to-end automation** â€” all while keeping things minimal and open-source.\n\nHereâ€™s what changed â€” and whatâ€™s coming next.\n\n***\n\n## âœ… Key Improvements (Week of June 8)\n\n### ğŸ” 1. Deduplication across relays\n\nNostr relays often echo the same events. In the original version, my script could pull the same article multiple times.\\\nTo fix that, I updated the `fetch_articles.py` script to:\n\n* Gather events from 8â€“10 relays concurrently using `asyncio`\n\n* Flatten the results\n\n* Deduplicate based on `event.id`\n\nThis brought the number of unique articles down from 90+ to around 20 â€” a huge cleanup win.\n\n***\n\n### ğŸ· 2. Tag styling and wrapping\n\nPreviously, the tags were unstyled or ran off the edge of the container. Now:\n\n* Tags wrap cleanly and align left\n\n* Each tag has a soft background and spacing (`#tag`)\n\n* Tags are parsed directly from Nostr `[\"t\", ...]` tags\n\nIt looks better. It feels more coherent. And it reflects the decentralized ethos â€” clean, not corporate.\n\n***\n\n### ğŸ“… 3. Proper `published_at` parsing\n\nNostr events can include a `[\"published_at\", timestamp]` tag. Originally, my site sorted and displayed articles by their `created_at` time â€” which was sometimes misleading.\n\nNow, the script:\n\n* Extracts `published_at` (if present)\n\n* Falls back to `created_at` if missing\n\n* Uses this value for both sorting and display in `index.html`\n\nThis way, articles appear in the correct order â€” based on when I *intended* to publish them.\n\n***\n\n### ğŸ¨ 4. Markdown cleanup and layout polish\n\nMarkdown content from Nostr sometimes included extra backslashes (`\\\\`) or unparsed characters. I updated the rendering logic to:\n\n* Remove unnecessary escape characters\n\n* Use consistent fonts, spacing, and margins\n\n* Inherit the overall styling from stantonweb.com\n\nNow the articles donâ€™t just work â€” they feel native to the rest of my site.\n\n***\n\n### ğŸ¤– 5. GitHub Actions automation\n\nThis was a big one: enabling **daily auto-publishing**.\n\nI created a GitHub Actions workflow that:\n\n* Pulls all my `kind:30023` long-form articles daily from Nostr relays\n\n* Deduplicates and filters by tag\n\n* Generates one `.html` file per article and updates the `index.json`\n\n* Commits the changes back to GitHub Pages â€” no manual pushing needed\n\nAfter some token setup troubleshooting (and a wrong `known_hosts` key ğŸ˜…), it works beautifully.\n\nYou can still run the script manually via:\n\n```\nbash\n```\n\nCopyEdit\n\n`./fetch_articles.sh`\n\nBut now, itâ€™s fire-and-forget. Just post on Nostr â€” the rest happens automatically.\n\n***\n\n## â± Total Time Spent (est. 15 hours)\n\n* **Saturday (\\~5h)**: initial build, tried sync-based fetch logic\n\n* **Sunday (\\~5h)**: rewrote with `asyncio`, deduplication, cleaned up article objects\n\n* **Monday (\\~5h)**: full styling pass, timestamp fixes, token creation, and automation pipeline setup\n\nAll running with zero paid infrastructure.\n\n***\n\n## ğŸ”œ Coming Soon\n\n* ğŸ—‚ **Pagination**: View 10â€“50 articles per page\n\n* ğŸ—“ **Monthly Archives**: Top-level by Year â†’ then Month â†’ then article list\n\n* ğŸ§  **RSS Feed**: Auto-generate RSS from my `npub` so any Nostr long-form post becomes a blog feed\\\n  *(Bonus: use it to follow others via Primal or standard readers)*\n\n***\n\n## ğŸ™Œ Built With\n\n* Nostr (Primal, Damus, etc.)\n\n* GitHub Pages + Actions\n\n* Python (asyncio, websockets)\n\n* A little stubbornness\n\n* A lot of help from ChatGPT (â€œDr. Câ€) ğŸ§ \n\n***\n\n## ğŸ’¡ Why This Matters\n\nMost people donâ€™t own their publishing tools.\\\nMedium can unlist you. Substack can shadowban. Even Ghost requires trust in a hosted instance.\n\nBut with Nostr + GitHub, I control the data, the visibility, and the publishing logic.\n\nThatâ€™s the future I want â€” for myself, for others, for truth.\n\nOne article at a time.\n\n***\n\n**ğŸŸ§ View live:**\\\n<https://andrewgstanton.github.io/blog-stantonweb-site>\\\n**ğŸ“¬ Zap:** <https://tinyurl.com/yuyu2b9t>",
  "created_at": 1763189625,
  "id": "65e4991ab079fe3edce13389714d95ae971618b4fe2a4ac668a23f9e210b3808",
  "kind": 30023,
  "pubkey": "2b998b04e2a1fe6855b2e0ab10bb92b774b5dfa0f78926c7a65ae08086727e47",
  "sig": "81d9d1ffdfd1dc2d6a74787fbd1acd041b09481236efdda7ce3bf687b7ab9c1740aa3fd32c5faf0bb79a5d7baf38c7675b956561c1f1116c756e58530f051fcd",
  "tags": [
    [
      "d",
      "how-i-built-a-decentralized-cms-with-nostr--github-actions--part-2"
    ],
    [
      "title",
      "How I Built a Decentralized CMS with Nostr + GitHub Actions â€” Part 2"
    ],
    [
      "published_at",
      "1763189625"
    ],
    [
      "client",
      "mycontinuum-localhost"
    ],
    [
      "summary",
      "Refinements, resilience, and real-world usage. In this follow-up to Part 1, I document how I styled and streamlined my Nostr-based CMS â€” including relay deduplication, HTML fixes, GitHub Actions automation, and thoughtful publishing defaults â€” all running on free infrastructure I control."
    ],
    [
      "display_date",
      "2025-06-09"
    ],
    [
      "image",
      "https://blossom.primal.net/337c50b5cb05273f95f1eae0d20d5c476507e63b3e8560788cad252fcf69380b.png"
    ],
    [
      "t",
      "nostr"
    ],
    [
      "t",
      "blog"
    ],
    [
      "t",
      "article"
    ],
    [
      "t",
      "decentralizedcms"
    ],
    [
      "t",
      "freedomtech"
    ],
    [
      "t",
      "githubactions"
    ],
    [
      "t",
      "sovereignsignal"
    ],
    [
      "t",
      "proofOfPublish"
    ],
    [
      "e",
      "fd36624fc6df4430fbeebb551dc1a735b10adb05ccdd95b29a5cf43b546c915f",
      "edit"
    ]
  ],
  "_source": [
    "wss://nos.lol",
    "wss://nostr.mom",
    "wss://relay.snort.social",
    "wss://nostr.bitcoiner.social",
    "wss://relay.damus.io"
  ]
}